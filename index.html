<head>
	<meta charset="utf-8">
	<title>Big Hack Plays 2048!</title>

	<link href="style/main.css" rel="stylesheet" type="text/css">
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="apple-touch-icon" href="meta/apple-touch-icon.png">
	<meta name="apple-mobile-web-app-capable" content="yes">

	<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="js/game_manager.js"></script>
	<script type="text/javascript" src="js/style_toggle.js"></script> 

	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
  {{> app}}
</body>

<template name="app">
	<div class="wrapper cal">
		<div class="container">
			<div class="heading">
				<h1 class="title">Big Hack Plays 2048!</h1>
        
        {{> scores}}
        
				<div class="vote-bar-container">
					<div class="vote-bar-part-1"></div>
					<div class="vote-bar-part-2"></div>
					<div class="vote-bar-part-3"></div>
					<div class="vote-bar-divider"></div>
					<div class="vote-bar left"></div>
					<div class="cal logo vote-button"><img src="cal-logo.svg" /></div>
					<div class="stanf logo vote-button"><img src="stanford-logo-light.png" /></div>
				</div>
			</div>

			<div class="above-game">
				<p class="game-intro">
          Join the <strong>anarchy</strong> and help everyone get the <strong>2048 tile!</strong><br>
          Also, <strong>click on a mascot/logo</strong> to vote on the color scheme!
        </p>
			</div>

			<div class="game-container">
				<div class="game-message">
					<p></p>
					<div class="lower">
						<!--<a class="keep-playing-button">Keep going</a>
						<a class="retry-button">Try again</a>-->
					</div>
				</div>

				<div class="grid-container">
					<div class="grid-row">
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
					</div>
					<div class="grid-row">
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
					</div>
					<div class="grid-row">
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
					</div>
					<div class="grid-row">
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
						<div class="grid-cell"></div>
					</div>
				</div>

				<div class="tile-container">

				</div>
			</div>
      

			<div class="box prompt-box edit">
				<input class="name-field" type="text" placeholder="Enter your name to begin" maxlength="10" />
        <div class="welcome">
          Welcome, <span class="name" title="Click to change your name"></span>.<br>
          <span class="message"></span>
        </div>
			</div>
      
      {{> commands}}

			<p class="game-explanation">
				<strong class="important">How to play:</strong> Enter your name, then
        use your <strong>arrow keys</strong> to move the tiles. Everyone is
        playing the same game, so cooperation is key!
			</p>
			<p>
				<strong class="important">Also:</strong> It's <strong>Cal versus
          Stanford!</strong> Vote for a side by <strong>clicking</strong> on its
          mascot or logo. Get enough votes, and the site's color scheme will
          change.
			</p>
			<hr>
			<p>
			  <strong class="important">Note:</strong> This site is
        <strong>not</strong> the official version of 2048. You can play
        <a href="http://gabrielecirulli.com" target="_blank">Gabriele Cirulli</a>'s
        2048 at <a href="http://git.io/2048">http://git.io/2048</a>.
			</p>
			<p>
			  <strong class="important">Note:</strong> This game is inspired by Twitch
        Plays Pok√©mon, a social experiment started in February 2014. The stream
        is available <a href="http://www.twitch.tv/twitchplayspokemon">here</a>.
			</p>
		</div>

		<div class="style-swap-button cal vote-button"><img src="cal.png" /></div>
		<div class="style-swap-button stanf vote-button"><img src="stanford.png" /></div>
	</div>
</template>

<template name="scores">
  {{#each scores}}
	<div class="scores-container">
		<div class="wins-container">{{wins}}</div>
		<div class="losses-container">{{losses}}</div>
		<!--<div class="best-container">0</div>-->
	</div>
  {{/each}}
</template>

<template name="commands">
	<ul class="box commands">
		{{#each commands}}
      <li class="command direction-{{direction}} valid-{{validMove}}">
        <span class="name">{{name}}</span>
      </li>
    {{/each}}
	</ul>
</template>